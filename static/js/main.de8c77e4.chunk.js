(this["webpackJsonppolygons-no-3"]=this["webpackJsonppolygons-no-3"]||[]).push([[0],{18:function(n,e,t){},31:function(n,e,t){"use strict";t.r(e);var o=t(1),i=t.n(o),a=t(9),s=t.n(a),r=(t(18),t(13)),d=t(2);window.p5=d;t(20);var c=t(10),u=t(0);function l(){return Object(u.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(u.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(u.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var h=t(11),g=t(12),f=function(){function n(e,t,o,i,a,s,r){Object(h.a)(this,n),this.p=e,this.x=t,this.y=o,this.fill=i,this.stroke=a,this.sides=s,this.radius=r,this.canUpdate=!0}return Object(g.a)(n,[{key:"draw",value:function(){var n=360/this.sides;this.p.fill(this.fill),this.p.stroke(this.stroke),this.p.beginShape();for(var e=0;e<360;e+=n){var t=this.x+this.p.cos(e)*this.radius,o=this.y+this.p.sin(e)*this.radius;this.p.vertex(t,o)}this.p.endShape(this.p.CLOSE)}}]),n}(),p=t.p+"static/media/polygons-no-3.1ab123b4.ogg",m=t.p+"static/media/polygons-no-3.0f1f4d4e.mid",v=function(){var n=Object(o.useRef)(),e=function(n){n.canvas=null,n.canvasWidth=window.innerWidth,n.canvasHeight=window.innerHeight,n.audioLoaded=!1,n.player=null,n.PPQ=15360,n.loadMidi=function(){c.Midi.fromUrl(m).then((function(e){var t=e.tracks[8].notes;console.log(e),n.scheduleCueSet(t,"executeCueSet1"),n.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},n.preload=function(){n.song=n.loadSound(p,n.loadMidi),n.song.onended(n.logCredits)},n.scheduleCueSet=function(e,t){for(var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1,a=1,s=0;s<e.length;s++){var r=e[s],d=r.ticks,c=r.time;(d!==i||o)&&(r.currentCue=a,n.song.addCue(c,n[t],r),i=d,a++)}},n.colourSets=[],n.currentColourSet=[],n.possibleSides=[3,5,6,8],n.numberOfSides=6,n.horizontalAlignment="left",n.setup=function(){n.canvas=n.createCanvas(n.canvasWidth,n.canvasHeight),n.colorMode(n.HSB),n.angleMode(n.DEGREES),n.noLoop(),n.background(255),n.stroke(0),n.strokeWeight(4),n.horizontalAlignment=Math.random()>.5?"left":"right";var e=Math.random()>.5,t=n.random(0,20);n.possibleSides.forEach((function(o){n.colourSets[o]=function(n,e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=[],a=0;a<4;){e=(e+=90*a)<360?e:e-360;var s=n.color(e,t,o,1);i.push(s),a++}return i}(n,t,e?n.random(50,75):n.random(75,100),e?n.random(50,75):n.random(75,100)),t+=20}))},n.draw=function(){n.audioLoaded&&n.song.isPlaying()},n.polygons=[],n.executeCueSet1=function(e){var t=e.duration,o=t>.1?Math.floor(n.random(12,24)):Math.floor(n.random(4,8)),i=t>.1?n.color(0):n.color(255),a=Object(r.a)(n.possibleSides);a.splice(a.indexOf(n.numberOfSides),1),n.polygons=[],n.numberOfSides=n.random(a),n.currentColourSet=n.colourSets[n.numberOfSides];for(var s=0;s<o;s++){var d="left"===n.horizontalAlignment?n.random(0,n.width-n.width/n.numberOfSides):n.random(n.width/n.numberOfSides,n.width),c="left"===n.horizontalAlignment?n.random(0,n.height-n.height/n.numberOfSides):n.random(n.height/n.numberOfSides,n.height),u=n.random(n.height/8,n.height/16),l=[];l.push(new f(n,d,c,n.random(n.currentColourSet),i,n.numberOfSides,u)),l.push(new f(n,d,c,n.random(n.currentColourSet),i,n.numberOfSides,u/2)),n.polygons.push(l)}for(var h=parseInt(1e3*t)/n.polygons.length*.75,g=function(e){setTimeout((function(){n.polygons[e][0].draw(),n.polygons[e][1].draw()}),h*e)},p=0;p<n.polygons.length;p++)g(p)},n.hasStarted=!1,n.mousePressed=function(){n.audioLoaded&&(n.song.isPlaying()?n.song.pause():(parseInt(n.song.currentTime())>=parseInt(n.song.buffer.duration)&&(n.reset(),"undefined"!==typeof window.dataLayer&&window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"replaying"}})),document.getElementById("play-icon").classList.add("fade-out"),n.canvas.addClass("fade-in"),n.song.play(),"undefined"===typeof window.dataLayer||n.hasStarted||(window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"start playing"}}),n.hasStarted=!1)))},n.creditsLogged=!1,n.logCredits=function(){!n.creditsLogged&&parseInt(n.song.currentTime())>=parseInt(n.song.buffer.duration)&&(n.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),n.song.stop())},n.reset=function(){},n.updateCanvasDimensions=function(){n.canvasWidth=window.innerWidth,n.canvasHeight=window.innerHeight,n.canvas=n.resizeCanvas(n.canvasWidth,n.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){n.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){n.updateCanvasDimensions()}),!0)};return Object(o.useEffect)((function(){new d(e,n.current)}),[]),Object(u.jsx)("div",{ref:n,children:Object(u.jsx)(l,{})})};var w=function(){return Object(u.jsx)(v,{})};s.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.de8c77e4.chunk.js.map